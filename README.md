# ğŸ’± Tabdil - Smart Currency Converter

<div align="center">

![Flutter](https://img.shields.io/badge/Flutter-02569B?style=for-the-badge&logo=flutter&logoColor=white)
![Dart](https://img.shields.io/badge/Dart-0175C2?style=for-the-badge&logo=dart&logoColor=white)
![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)

**ØªØ·Ø¨ÙŠÙ‚ ØªØ­ÙˆÙŠÙ„ Ø¹Ù…Ù„Ø§Øª Ø°ÙƒÙŠ Ø¨ØªØµÙ…ÙŠÙ… Hyper UI Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ**

[English](#english) | [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](#Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©) | [Docker](#-docker-deployment)

</div>

---

## Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©

### ğŸ“ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

**ØªØ¨Ø¯ÙŠÙ„ (Tabdil)** Ù‡Ùˆ ØªØ·Ø¨ÙŠÙ‚ ØªØ­ÙˆÙŠÙ„ Ø¹Ù…Ù„Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø³ÙˆÙ‚ Ø§Ù„ÙŠÙ…Ù†ÙŠ. ÙŠØ³ØªØ®Ø¯Ù… Ù†Ø¸Ø§Ù… Ø£Ø³Ø¹Ø§Ø± Ù‡Ø¬ÙŠÙ† ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ù„Ù„Ø±ÙŠØ§Ù„ Ø§Ù„ÙŠÙ…Ù†ÙŠ (YER) ÙˆØ£Ø³Ø¹Ø§Ø± API Ù„Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ©.

### âœ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

- ğŸ¨ **ØªØµÙ…ÙŠÙ… Hyper UI** - ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ø¨ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù†ÙŠÙˆÙ† ÙˆØ§Ù„Ø²Ø¬Ø§Ø¬
- ğŸŒŠ **Ø®Ù„ÙÙŠØ© Ù…ØªØ­Ø±ÙƒØ©** - Ø£Ù…ÙˆØ§Ø¬ Aurora Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ø¨Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù†ÙŠÙˆÙ†
- ğŸ”® **ØªØ£Ø«ÙŠØ± Ø§Ù„Ø²Ø¬Ø§Ø¬ (Glassmorphism)** - Ø¨Ø·Ø§Ù‚Ø§Øª Ø´ÙØ§ÙØ© Ù…Ø¹ ØªØ£Ø«ÙŠØ± Ø¶Ø¨Ø§Ø¨ÙŠ
- âœ¨ **Ø£Ø²Ø±Ø§Ø± ØªÙØ§Ø¹Ù„ÙŠØ©** - ØªØ£Ø«ÙŠØ± Ø¶ÙˆØ¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ù„Ù…Ø³ (Photo-reactive)
- ğŸ§® **ÙˆØ§Ø¬Ù‡Ø© Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©** - ØªØµÙ…ÙŠÙ… Ø³Ù‡Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
- ğŸ”„ **Ù†Ø¸Ø§Ù… Ø£Ø³Ø¹Ø§Ø± Ù‡Ø¬ÙŠÙ†** - Ø£Ø³Ø¹Ø§Ø± ÙŠØ¯ÙˆÙŠØ© + Ø£Ø³Ø¹Ø§Ø± API
- ğŸ“Š **Ø¹Ø±Ø¶ Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«** - ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ« Ù„Ù„Ø£Ø³Ø¹Ø§Ø±
- ğŸ‘¨â€ğŸ’¼ **Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„** - Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
- ğŸ“¦ **Ù†Ø¸Ø§Ù… Ø§Ø­ØªÙŠØ§Ø·ÙŠ** - ÙŠØ¹Ù…Ù„ Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª
- ğŸ³ï¸ **Ø£Ø¹Ù„Ø§Ù… Ø§Ù„Ø¯ÙˆÙ„** - Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Unicode Emojis

### ğŸ’± Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©

| Ø§Ù„Ø¹Ù…Ù„Ø© | Ø§Ù„Ø±Ù…Ø² | Ø§Ù„Ø¹Ù„Ù… |
|--------|-------|-------|
| Ø±ÙŠØ§Ù„ ÙŠÙ…Ù†ÙŠ | YER | ğŸ‡¾ğŸ‡ª |
| Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ | USD | ğŸ‡ºğŸ‡¸ |
| Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ | SAR | ğŸ‡¸ğŸ‡¦ |
| Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ | AED | ğŸ‡¦ğŸ‡ª |
| Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ | KWD | ğŸ‡°ğŸ‡¼ |
| Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ | OMR | ğŸ‡´ğŸ‡² |

### ğŸ› ï¸ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

- **Flutter** - Ø¥Ø·Ø§Ø± Ø§Ù„Ø¹Ù…Ù„
- **Dart** - Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©
- **Supabase** - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- **Provider** - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
- **Open Exchange Rates API** - Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©
- **Docker** - Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„ØªÙˆØ²ÙŠØ¹

### ğŸ¨ ØªØµÙ…ÙŠÙ… Hyper UI

Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ³ØªØ®Ø¯Ù… ØªØµÙ…ÙŠÙ… **"Immersive Neon Glass"** Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ:

- **Ø®Ù„ÙÙŠØ© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©:** Ø£Ù…ÙˆØ§Ø¬ Aurora Ù…ØªØ­Ø±ÙƒØ© Ø¨Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù†ÙŠÙˆÙ† (Ø£Ø²Ø±Ù‚ØŒ Ø¨Ù†ÙØ³Ø¬ÙŠØŒ Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ)
- **Ø¨Ø·Ø§Ù‚Ø§Øª Ø²Ø¬Ø§Ø¬ÙŠØ©:** ØªØ£Ø«ÙŠØ± Glassmorphism Ù…Ø¹ ØªÙˆÙ‡Ø¬ Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯
- **Ø£Ø²Ø±Ø§Ø± Ù…ØªÙØ§Ø¹Ù„Ø©:** ØªØ£Ø«ÙŠØ± Ø¶ÙˆØ¦ÙŠ ÙŠÙ†ØªØ´Ø± Ù…Ù† Ù†Ù‚Ø·Ø© Ø§Ù„Ù„Ù…Ø³
- **Ø­Ø±ÙƒØ§Øª Ø³Ù„Ø³Ø©:** Ø§Ù†ØªÙ‚Ø§Ù„Ø§Øª Ø¨Ù€ 60fps

### ğŸš€ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ù„ÙŠ

```bash
# Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹
git clone https://github.com/mmsal512/tabdil-app.git
cd tabdil-app

# ØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø²Ù…
flutter pub get

# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (Web)
flutter run -d chrome

# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (Mobile)
flutter run

# Ø¨Ù†Ø§Ø¡ APK
flutter build apk --release

# Ø¨Ù†Ø§Ø¡ Web
flutter build web --release
```

---

## English

### ğŸ“ Overview

**Tabdil** is a professional currency converter app designed specifically for the Yemeni market. It uses a hybrid rate system combining manual rates for Yemeni Rial (YER) and API rates for foreign currencies.

### âœ¨ Features

- ğŸ¨ **Hyper UI Design** - Futuristic interface with neon and glass effects
- ğŸŒŠ **Animated Background** - Dynamic Aurora waves with neon colors
- ğŸ”® **Glassmorphism** - Transparent cards with blur effect
- âœ¨ **Interactive Buttons** - Photo-reactive light effect on tap
- ğŸ§® **Calculator-style UI** - Easy-to-use interface
- ğŸ”„ **Hybrid Rate System** - Manual rates + API rates
- ğŸ“Š **Last Update Display** - Shows last rates update time
- ğŸ‘¨â€ğŸ’¼ **Admin Panel** - For editing backup rates
- ğŸ“¦ **Fallback System** - Works even without internet
- ğŸ³ï¸ **Country Flags** - Using Unicode Emojis

### ğŸ› ï¸ Tech Stack

- **Flutter** - Framework
- **Dart** - Programming Language
- **Supabase** - Database & Authentication
- **Provider** - State Management
- **Open Exchange Rates API** - Currency rates
- **Docker** - Deployment

### ğŸš€ Getting Started

```bash
# Clone the repository
git clone https://github.com/mmsal512/tabdil-app.git
cd tabdil-app

# Install dependencies
flutter pub get

# Run the app (Web)
flutter run -d chrome

# Run the app (Mobile)
flutter run

# Build APK
flutter build apk --release

# Build Web
flutter build web --release
```

---

## ğŸ³ Docker Deployment

This project includes a production-ready Docker setup for deploying the Flutter Web application.

### ğŸ“ Project Structure

```
tabdil/
â”œâ”€â”€ Dockerfile              # Multi-stage build (Flutter â†’ nginx)
â”œâ”€â”€ docker-compose.yml      # Docker Compose configuration
â”œâ”€â”€ docker-entrypoint.sh    # Runtime config generator
â”œâ”€â”€ .env.example            # Environment variables template
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf         # Optimized nginx configuration
â”œâ”€â”€ secrets/
â”‚   â””â”€â”€ secret.yml.example # Secrets template
â””â”€â”€ lib/
    â”œâ”€â”€ screens/
    â”‚   â”œâ”€â”€ home_screen.dart        # Main Hyper UI screen
    â”‚   â”œâ”€â”€ admin_login_screen.dart # Admin login
    â”‚   â””â”€â”€ rate_editor_screen.dart # Rate editor
    â”œâ”€â”€ widgets/
    â”‚   â””â”€â”€ hyper_ui.dart          # Shared UI components
    â”œâ”€â”€ services/
    â”‚   â”œâ”€â”€ app_config.dart        # Runtime config loader
    â”‚   â”œâ”€â”€ supabase_service.dart  # Supabase integration
    â”‚   â””â”€â”€ rates_service.dart     # Rates API service
    â””â”€â”€ providers/
        â””â”€â”€ currency_provider.dart # State management
```

### ğŸ” Security: Runtime Configuration

**Important:** Secrets are NOT embedded in the Docker image. They are injected at container startup via Docker secrets.

The `docker-entrypoint.sh` script:
1. Reads secrets from `/run/secrets/app_secrets`
2. Generates `/usr/share/nginx/html/assets/config.json`
3. Starts nginx

### ğŸ“‹ Setup Instructions

#### 1. Create secrets file

```bash
# Copy the template
cp secrets/secret.yml.example secrets/secret.yml

# Edit with your actual values
nano secrets/secret.yml
```

**secrets/secret.yml:**
```yaml
SUPABASE_URL: "https://your-project.supabase.co"
SUPABASE_ANON_KEY: "your-supabase-anon-key"
OPEN_EXCHANGE_API_KEY: "your-openexchangerates-app-id"
```

#### 2. Create environment file

```bash
cp .env.example .env
```

**.env:**
```env
APP_PORT=90
APP_ENV=production
```

#### 3. Build and Run

```bash
# Build the Docker image
docker-compose build

# Run the container
docker-compose up -d

# View logs
docker-compose logs -f tabdil-web

# Stop the container
docker-compose down
```

### ğŸŒ Access the Application

After running, access the app at:
- **Local:** http://localhost:90
- **Server:** http://your-server-ip:90

### ğŸ”§ Configuration Options

| Variable | Description | Default |
|----------|-------------|---------|
| `APP_PORT` | External port to expose | `90` |
| `APP_ENV` | Environment (production/development) | `production` |

> **Note:** The internal nginx port is always 80. `APP_PORT` controls the external port mapping.

### ğŸ“Š Health Check

The nginx server includes a health check endpoint:

```bash
curl http://localhost:90/health
# Response: healthy
```

### ğŸ”’ Security Features

- **No secrets in image:** All sensitive data is injected at runtime
- **Security headers:** X-Frame-Options, X-Content-Type-Options, CSP
- **Gzip compression:** Optimized for performance
- **Static caching:** Immutable assets cached for 1 year
- **SPA fallback:** Proper history API support

### ğŸ’» How the Flutter Code Loads Config

The app loads runtime configuration from `config.json`:

```dart
// lib/services/app_config.dart
import 'dart:convert';
import 'package:flutter/services.dart' show rootBundle;

class AppConfig {
  static late Map<String, dynamic> _config;

  static Future<void> load() async {
    final jsonStr = await rootBundle.loadString('config.json');
    _config = jsonDecode(jsonStr);
  }

  static String get supabaseUrl => _config['SUPABASE_URL'];
  static String get supabaseAnonKey => _config['SUPABASE_ANON_KEY'];
  static String get openExchangeApiKey => _config['OPEN_EXCHANGE_API_KEY'];
}
```

### ğŸš€ Quick Commands Reference

```bash
# Build image
docker-compose build

# Start container
docker-compose up -d

# View logs
docker-compose logs -f

# Stop container (keeps image)
docker-compose stop

# Start container (after stop)
docker-compose start

# Stop and remove container
docker-compose down

# Rebuild and restart
docker-compose up -d --build

# Check container status
docker-compose ps

# Execute shell in container
docker-compose exec tabdil-web sh
```

---

## ğŸ“± Screenshots

The app features a stunning **Immersive Neon Glass** design:

- Animated morphic aurora background
- Glassmorphism currency cards with 3D glow
- Photo-reactive keypad buttons
- Real-time rate status with last update time

---

## ğŸ“„ License

This project is licensed under the MIT License.

## ğŸ‘¨â€ğŸ’» Author

Developed with â¤ï¸ for the Yemeni market.

---

<div align="center">

**â­ Star this repo if you find it helpful! â­**

</div>
